{"ast":null,"code":"import{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Form(){const[name,setName]=useState();const[email,setEmail]=useState();const[arr,setArr]=useState([]);const[dis,setDis]=useState(0);const[pic,setPic]=useState();useEffect(()=>{axios.get(\"https://msirph.online/api/sample_api\").then(res=>{console.log(res);setArr(res.data);});},[dis]);const submitForm=()=>{let getData=new FormData();getData.append('name',name);getData.append('email',email);getData.append('pic',pic);getData.append('pic_name',pic.name);console.log(pic);axios({method:'POST',url:\"https://msirph.online/api/sample_api/send\",data:getData}).then(response=>{console.log(response.data.data);setDis([]);// axios.get(\"https://msirph.online/api/sample_api\").then((res)=>{\n//     setArr(res.data.data);\n//  })\n});};const updateForm=id=>{let getData=new FormData();getData.append('name',name);getData.append('email',email);getData.append('id',id);axios({method:'POST',url:\"https://msirph.online/api/sample_api/edit/\"+id,data:getData}).then(response=>{console.log(response.data.data);setDis([]);});};const deleBtn=id=>{let getData=new FormData();getData.append('id',id);axios({method:'POST',url:\"https://msirph.online/api/sample_api/delete/\"+id,data:getData}).then(response=>{// window.location.reload();\nsetDis([]);});};const preview=e=>{setPic(e.target.files[0]);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{children:[\"Name: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",onChange:e=>setName(e.target.value)}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Email: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",id:\"email\",onChange:e=>setEmail(e.target.value)}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Pic: \",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"pic\",id:\"pic\",onChange:preview}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:submitForm,children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),arr.map(item=>{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ename\",id:\"ename\",defaultValue:item.name,onChange:e=>setName(e.target.value)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ename\",id:\"ename\",defaultValue:item.email,onChange:e=>setEmail(e.target.value)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ename\",id:\"ename\",defaultValue:item.pic,onChange:e=>setPic(e.target.value)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"https://msirph.online/storage/images/\"+item.pic,style:{width:\"100px\"}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:item.id,onClick:updateForm,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",title:item.id,onClick:()=>{deleBtn(item.id);},children:\"Delete\"})]})]})});})]});}export default Form;","map":{"version":3,"names":["useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Form","name","setName","email","setEmail","arr","setArr","dis","setDis","pic","setPic","get","then","res","console","log","data","submitForm","getData","FormData","append","method","url","response","updateForm","id","deleBtn","preview","e","target","files","children","type","onChange","value","onClick","map","item","defaultValue","src","style","width","title"],"sources":["C:/xampp/htdocs/sample_project/sample_front/src/components/Form.js"],"sourcesContent":["import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction Form(){\r\n\r\n    const [name,setName] =useState();\r\n    const [email, setEmail] = useState();\r\n    const [arr, setArr] = useState([]);\r\n    const [dis, setDis] = useState(0);\r\n    const [pic, setPic] = useState();\r\n\r\n    useEffect(()=>{\r\n        axios.get(\"https://msirph.online/api/sample_api\").then((res)=>{\r\n            console.log(res)\r\n          setArr(res.data);\r\n        })\r\n    },[dis]);\r\n    \r\n    const submitForm = () =>{\r\n        let getData = new FormData();\r\n        getData.append('name', name);\r\n        getData.append('email', email);\r\n        getData.append('pic', pic);\r\n        getData.append('pic_name', pic.name);\r\n        console.log(pic)\r\n        axios({\r\n            method:'POST',\r\n            url:\"https://msirph.online/api/sample_api/send\",\r\n            data: getData\r\n        }).then((response)=>{\r\n            console.log(response.data.data);\r\n            setDis([]);\r\n            // axios.get(\"https://msirph.online/api/sample_api\").then((res)=>{\r\n            //     setArr(res.data.data);\r\n            //  })\r\n          \r\n        })\r\n\r\n    }\r\n\r\n    const updateForm = (id) =>{    \r\n        let getData = new FormData();\r\n        getData.append('name', name);\r\n        getData.append('email', email);\r\n        getData.append('id', id);\r\n        axios({\r\n            method:'POST',\r\n            url:\"https://msirph.online/api/sample_api/edit/\" +  id,\r\n            data: getData\r\n        }).then((response)=>{\r\n            console.log(response.data.data);\r\n            setDis([])\r\n\r\n        })\r\n            }\r\n\r\n    const deleBtn = (id) =>{\r\n        let getData = new FormData();\r\n        getData.append('id', id);\r\n        axios({\r\n            method:'POST',\r\n            url:\"https://msirph.online/api/sample_api/delete/\" + id,\r\n            data: getData\r\n        }).then((response)=>{\r\n           // window.location.reload();\r\n           setDis([])\r\n\r\n        })\r\n    }\r\n\r\n    const preview = (e) =>{\r\n        setPic(e.target.files[0]);\r\n    }\r\n            \r\n        return(\r\n        <>\r\n        <form>\r\n            Name: <input type=\"text\" name=\"name\" id=\"name\" onChange={(e)=> setName(e.target.value)}/> <br/>\r\n            Email: <input type=\"text\" name=\"email\" id=\"email\" onChange={(e)=> setEmail(e.target.value)}/> <br/>\r\n            Pic: <input type=\"file\" name=\"pic\" id=\"pic\" onChange={preview}/> <br/>\r\n            <button type=\"button\" onClick={submitForm}>Submit</button>\r\n        </form>\r\n        <hr/>\r\n        {arr.map((item)=>{\r\n            return(\r\n                <>\r\n                <tr>\r\n                <td>\r\n                    <input type=\"text\" name=\"ename\" id=\"ename\" defaultValue={item.name} onChange={(e)=> setName(e.target.value)}/>\r\n                </td>\r\n                <td>\r\n                    <input type=\"text\" name=\"ename\" id=\"ename\" defaultValue={item.email} onChange={(e)=> setEmail(e.target.value)}/>\r\n                </td>\r\n                <td>\r\n                    <input type=\"text\" name=\"ename\" id=\"ename\" defaultValue={item.pic} onChange={(e)=> setPic(e.target.value)}/>\r\n                </td>\r\n                <td>\r\n                    <img src={\"https://msirph.online/storage/images/\"+item.pic} style={{width: \"100px\"}} />\r\n                </td>\r\n                <td>\r\n                    <button type=\"button\" id={item.id} onClick={updateForm}>Update</button>\r\n                    <button type=\"button\" title={item.id} onClick={() => {deleBtn(item.id)}}>Delete</button>\r\n                </td>\r\n                </tr>\r\n                </>\r\n            )\r\n        })}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}